<!DOCTYPE html>
<html>
  <head>
    <title>Parcel Sandbox</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto"
      rel="stylesheet"
    />
  </head>

  <body>
    <header>
      <div class="nav-container">
        <h1>
          <img class="logo" src="img/clever.png" alt="logo" />
          <a href="/">Clever</a>
        </h1>
      </div>
    </header>

    <div class="main">
      <div class="create">
        <h1>Add to do</h1>
        <div style="display: none;" id="alert-danger">
          Please add item text in box below.
        </div>
        <input id="whatToDo" placeholder="what to be done" required />
        <button id="create-btn" onclick="add()">Create</button>

        <br />
      </div>
      <div class="list open">
        <h1>To Do List</h1>
        <ul id="open" class="entries"></ul>
      </div>
      <div class="list done">
        <h1>Done List</h1>
        <ul id="done" class="entries"></ul>
      </div>
    </div>

    <!-- if item_list length is = 0 add placeholder, otherwise delete it -->
    <script src="loadData.js"></script>
    <script src="createEntry.js"></script>
    <script>
      // load data into to toDoListItems
      let toDoListItems = loadData();
      toDoListItems.forEach((element) => {
        // append only the "text" in the string
        appendEntry(element);
      });

      function add() {
        const text_input = document.getElementById("whatToDo");

        if (text_input.value) {
          // add data to toDoListItems
          const item = new ToDo(text_input.value, false);
          toDoListItems.push(item);
          // save data to local storage / update local storage
          saveData();
          // append to DOM
          appendEntry(item);
          text_input.value = "";
        } else {
          document.getElementById("alert-danger").style.display = "block";
          setTimeout(
            () =>
              (document.getElementById("alert-danger").style.display = "none"),
            1000
          );
        }
      }
    </script>
  </body>
</html>
